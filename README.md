# 🚀 Data Profiling - Blizzard

## 📌 Table of Contents

- [🚀 Data Profiling - Blizzard](#-data-profiling---blizzard)
  - [📌 Table of Contents](#-table-of-contents)
  - [🎯 Introduction](#-introduction)
  - [🎥 Demo](#-demo)
    - [🔗 Live Demo](#-live-demo)
      - [Automated Rules Generation](#automated-rules-generation)
      - [Risk Analysis](#risk-analysis)
    - [📹 Video Demo](#-video-demo)
      - [Automated Rules Generation](#automated-rules-generation-1)
      - [Risk Analysis](#risk-analysis-1)
    - [🖼️ Screenshots](#️-screenshots)
  - [💡 **Inspiration**](#-inspiration)
  - [⚙️ What It Does](#️-what-it-does)
  - [🛠️ How We Built It](#️-how-we-built-it)
    - [**1️⃣ Regulatory Document Processing 📄**](#1️⃣-regulatory-document-processing-)
    - [**2️⃣ Intelligent Information Retrieval 🔍**](#2️⃣-intelligent-information-retrieval-)
    - [**3️⃣ Dynamic Rule Generation ⚖️**](#3️⃣-dynamic-rule-generation-️)
    - [**4️⃣ Customer Risk Profiling \& Analysis ⚠️**](#4️⃣-customer-risk-profiling--analysis-️)
    - [**5️⃣ External Data \& Enhancements 🌍**](#5️⃣-external-data--enhancements-)
  - [🚧 Challenges We Faced](#-challenges-we-faced)
    - [🧩 **The PDF Parsing Puzzle**](#-the-pdf-parsing-puzzle)
    - [🤯 **Information Overload**](#-information-overload)
    - [🤔 **Understanding Regulatory Language**](#-understanding-regulatory-language)
    - [🔑 **Extracting Key Insights**](#-extracting-key-insights)
    - [⚙️ **Structuring Complex Workflows**](#️-structuring-complex-workflows)
    - [🔍 **Detecting Fraud with Isolation Models**](#-detecting-fraud-with-isolation-models)
    - [🎨 **Building a Neat UI with Gradio**](#-building-a-neat-ui-with-gradio)
    - [🌍 **Enhancing Policy Search with Online Data**](#-enhancing-policy-search-with-online-data)
    - [🧬 **Generating Synthetic Data for Model Training**](#-generating-synthetic-data-for-model-training)
  - [🏃 How to Run](#-how-to-run)
  - [🏗️ Tech Stack](#️-tech-stack)
  - [👥 Team](#-team)

<br/>

## 🎯 Introduction

This project **automates regulatory compliance** by dynamically **generating rules from policy documents** and **assessing customer risk** based on these rules. It extracts structured data from PDFs, uses **vector embeddings and reranking** for intelligent search, and assigns a **risk score (0-5)** based on compliance.

Key features include:  
✅ **AI-driven rule generation** from regulatory documents  
✅ **Semantic search** using **vector embeddings & reranking**  
✅ **Automated risk assessment** of customer profiles  
✅ **Gradio-based UI** for real-time validation  
✅ **Anomaly detection & metadata filtering** for accuracy

This solution helps businesses stay compliant **efficiently and proactively**! 🚀

<br/>

## 🎥 Demo

### 🔗 Live Demo

#### Automated Rules Generation

<div>
  <a href="https://www.loom.com/share/0ceee712990641ea96d622f0a6a4cc41">
    <p>Overview of AI-Agentic System for Rules Generation 🚀 - Watch Video</p>
  </a>
  <a href="https://www.loom.com/share/0ceee712990641ea96d622f0a6a4cc41">
    <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/0ceee712990641ea96d622f0a6a4cc41-faaddd757ee8e7d7-full-play.gif">
  </a>
</div>

<br/>

#### Risk Analysis

<div>
  <a href="https://www.loom.com/share/9534c0d049514a9394e442260527120f">
    <p>Risk Analysis Coding Overview - Watch Video</p>
  </a>
  <a href="https://www.loom.com/share/9534c0d049514a9394e442260527120f">
    <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/9534c0d049514a9394e442260527120f-6cff63d122edd1aa-full-play.gif">
  </a>
</div>

---

### 📹 Video Demo

#### Automated Rules Generation

<div>
  <a href="https://www.loom.com/share/1d6058ae17b84401b0bd14d77d402e79">
    <p>Regulation Policy Generator Demo  - 26 March 2025 - Watch Video</p>
  </a>
  <a href="https://www.loom.com/share/1d6058ae17b84401b0bd14d77d402e79">
    <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/1d6058ae17b84401b0bd14d77d402e79-cc4b84446a9e6bfa-full-play.gif">
  </a>
</div>

<br/>

#### Risk Analysis

<div>
  <a href="https://www.loom.com/share/c55f361e76d14fe6b0b16aa3729fb831">
    <p>AI Chatbot Transaction Scoring - Watch Video</p>
  </a>
  <a href="https://www.loom.com/share/c55f361e76d14fe6b0b16aa3729fb831">
    <img style="max-width:300px;" src="https://cdn.loom.com/sessions/thumbnails/c55f361e76d14fe6b0b16aa3729fb831-982e1d0306543548-full-play.gif">
  </a>
</div>

<br/>

---

<br/>

### 🖼️ Screenshots

#### Automated Rules Generation

![1](https://github.com/user-attachments/assets/28e3b1c5-ed56-4424-979c-391a640bcb40)
![2](https://github.com/user-attachments/assets/ceaefa84-cce0-420f-91c4-b92f9ba19256)
![3](https://github.com/user-attachments/assets/eb1126e8-7a85-452c-94eb-3a2ba6acc753)
![4](https://github.com/user-attachments/assets/844fc0df-bd8a-4bd0-93f4-03161207693f)

#### Risk Analysis
![Screenshot_26-3-2025_181039_ce7141da9d3a616e2e gradio live](https://github.com/user-attachments/assets/a1461bf7-c82f-449e-be7d-d921933ce99d)
![Screenshot_26-3-2025_181050_ce7141da9d3a616e2e gradio live](https://github.com/user-attachments/assets/918bee55-e6b3-43a0-bb40-9d47970b850d)
![Screenshot_26-3-2025_18107_ce7141da9d3a616e2e gradio live](https://github.com/user-attachments/assets/a30725d0-93fa-44de-8eab-1f52a4252e72)


<br/>

## 💡 **Inspiration**

- Regulatory policies are **complex, ever-changing**, and difficult to interpret manually. Businesses struggle to **extract actionable rules** and assess **compliance risks** efficiently.
- Our solution **automates rule generation from policy documents** and **rates customer profiles based on risk**, leveraging **AI models, external data, and dynamic policy rules**. This ensures **faster, more accurate compliance analysis**, reducing **manual effort and regulatory uncertainty**. 🚀

<br/>

## ⚙️ What It Does

- Our project automates regulatory compliance by dynamically generating rules from policy documents and rating customer profiles based on risk.
- This end-to-end AI-driven system helps businesses automate compliance, reduce risk, and stay ahead of regulatory changes! 🚀

<br/>

## 🛠️ How We Built It

Our project leverages cutting-edge **AI and automation** to dynamically generate **rules from policy documents** and **rate customer profiles out of 5** based on regulatory compliance risk. Here's how we built it:

### **1️⃣ Regulatory Document Processing 📄**

- We used **PyMuPDF** and **pdfplumber** to extract text and tables from lengthy regulatory PDFs.
- Metadata filtering was applied to ensure relevant sections were processed efficiently.

### **2️⃣ Intelligent Information Retrieval 🔍**

- **HuggingFace Sentence Transformers** were used to generate **vector embeddings** for document chunks.
- **Pinecone** stored and indexed these embeddings for **fast similarity search** on policy-related queries.
- A **Cross-Encoder (sentence-transformers)** was implemented for **reranking search results**, improving accuracy.

### **3️⃣ Dynamic Rule Generation ⚖️**

- **KeyBERT** extracted key terms to highlight important regulatory concepts.
- **LangChain** powered **rule-based reasoning** to dynamically construct **policy rules** from extracted text.
- **LangGraph** defined structured workflows for **rule extraction, risk scoring, and validation.**

### **4️⃣ Customer Risk Profiling & Analysis ⚠️**

- **Isolation Forest (Anomaly Detection)** helped detect **outliers in customer profiles.**
- **Risk Analysis Pipeline** assigned **risk scores (0-5)** based on policy compliance and external data.

### **5️⃣ External Data & Enhancements 🌍**

- **SerpAPI** fetched **real-time regulatory data** to enhance rule generation.
- **Synthetic Data Generation** (cost **Rs. 2,000** using **GPT-4**) improved model performance and testing.
- **Gradio** provided a **neat UI** for interactive rule validation and risk assessment.

This approach **automates regulatory compliance**, **minimizes manual effort**, and **ensures precise risk assessment** in an ever-evolving policy landscape! 🚀

<br/>

## 🚧 Challenges We Faced

### 🧩 **The PDF Parsing Puzzle**

**Challenge:** Regulatory information is often buried in lengthy PDFs with **inconsistent formatting**, making **accurate text extraction** difficult.  
**Solution:** We leveraged **PyMuPDF** and **pdfplumber** to reliably extract structured information, preserving **headings and corresponding text** for further analysis. This **solved the parsing puzzle**, allowing us to efficiently work with regulatory documents.

### 🤯 **Information Overload**

**Challenge:** Regulatory documents contain **vast amounts of text**, making it hard to locate **specific, relevant** information.  
**Solution:**  
✅ **Vector embeddings** (Hugging Face `BAAI/bge-base-en-v1.5`) helped represent document chunks **semantically**.  
✅ **Pinecone vector database** enabled **efficient retrieval** of relevant content.  
✅ **Cross-Encoder reranking** further **refined accuracy**, ensuring we surfaced the **most relevant** policy text.  
✅ **Metadata filtering** improved query precision by allowing **structured retrieval based on document properties**.

### 🤔 **Understanding Regulatory Language**

**Challenge:** Regulatory texts are filled with **complex jargon** and **nuanced legal language**, making **keyword-based searches unreliable**.  
**Solution:**  
✔️ Used **Sentence Transformers** to **grasp the meaning** behind policy text.  
✔️ Fine-tuned our model (**Fine_Tuning.ipynb**) to **better understand regulatory language**, significantly **enhancing retrieval accuracy**.

### 🔑 **Extracting Key Insights**

**Challenge:** Finding **text** is one thing, but **identifying key rules, conditions, and concepts** is another.  
**Solution:**  
🔹 Integrated **KeyBERT** to **automatically extract keywords** from regulatory text.  
🔹 Enabled **quick identification** of **core topics**, making compliance analysis more **efficient**.

### ⚙️ **Structuring Complex Workflows**

**Challenge:** Risk analysis and policy-based rule generation involve **multiple interconnected steps**, making it **hard to manage the process**.  
**Solution:**  
🔄 Used **LangGraph** (`langgraph.graph.StateGraph`) to define **structured workflows**, ensuring a **clear and manageable flow** for **risk evaluation and rule generation**.

### 🔍 **Detecting Fraud with Isolation Models**

**Challenge:** Fraud detection in **financial transactions** often has **high false positives**, making risk scoring **inaccurate**.  
**Solution:**  
📌 Integrated an **Isolation Forest Model** to **detect anomalies** in transaction data, improving fraud detection accuracy.  
📌 Combined **LLM-based risk assessment** with **AI-driven fraud detection** for **better decision-making**.

### 🎨 **Building a Neat UI with Gradio**

**Challenge:** The system needed a **user-friendly interface** for interacting with the AI-powered regulatory assistant.  
**Solution:**  
🖥️ Used **Gradio** to create an **intuitive web-based UI**, allowing users to query policy data and view risk analysis **seamlessly**.

### 🌍 **Enhancing Policy Search with Online Data**

**Challenge:** Some regulatory policies change **frequently** and need **real-time updates**.  
**Solution:**  
🔗 Integrated **SerpAPI** for **real-time web searches**, allowing the system to **fetch the latest policy updates** from trusted sources.

### 🧬 **Generating Synthetic Data for Model Training**

**Challenge:** Real-world regulatory data is often **limited or sensitive**, making **training and testing difficult**.  
**Solution:**  
💰 Spent **$2,000 on GPT-4** API calls to generate **high-quality synthetic training data**.  
🎭 Developed a **Synthetic Data Generator** (`Synthetic Data Generator.ipynb`), using:

- **Embedding similarity** to create **realistic training data**.
- **Prompt engineering** to **simulate real-world policy scenarios** for better **model evaluation**.

By overcoming these challenges, we built a **robust, scalable solution** for **regulatory compliance and risk analysis**. 🚀

<br/>

## 🏃 How to Run

Run on Google Colab Links provided or the `.ipynb` files attached to this project

<br/>

## 🏗️ Tech Stack

Here's the **tech stack** used in the project along with a brief reasoning for each choice:

| Technology                    | Purpose                                         | Why We Chose It                                              |
| ----------------------------- | ----------------------------------------------- | ------------------------------------------------------------ |
| **LangChain**                 | Framework for building LLM-powered applications | Modular & integrates well with various models & databases    |
| **LangGraph**                 | Graph-based execution for AI Agent workflows    | Ensures structured reasoning & better agent coordination     |
| **Hugging Face Transformers** | Pretrained models for NLP tasks                 | Access to state-of-the-art transformer models                |
| **Ollama**                    | Running LLMs locally                            | Supports open-source models with local execution             |
| **OpenAI API**                | Access to GPT models                            | High-quality LLM responses for complex queries               |
| **Pinecone**                  | Vector database for embeddings                  | Fast and scalable similarity search for RAG                  |
| **FAISS**                     | Open-source vector search library               | Efficient, free alternative to Pinecone for local RAG        |
| **Sentence-Transformers**     | Embedding model training & inference            | Optimized retrieval performance with semantic search         |
| **PyMuPDF**                   | PDF processing                                  | Extracts text & tables efficiently from regulatory documents |
| **pdfplumber**                | PDF parsing                                     | More granular control over text extraction                   |
| **KeyBERT**                   | Keyword extraction                              | Enhances search relevance by prioritizing key terms          |
| **SerpAPI**                   | Google search API                               | Retrieves external regulatory data when needed               |
| **Google Search Results API** | Web search integration                          | Provides up-to-date public policy data                       |
| **PyArrow & FastParquet**     | Parquet file handling                           | Efficient storage & retrieval of large datasets              |
| **Torch**                     | Deep learning framework                         | Used for fine-tuning our transformer models                  |
| **Matryoshka Embeddings**     | Multi-resolution embedding strategy             | Enables adaptive retrieval at different granularities        |

This stack ensures **scalability**, **efficiency**, and **cost-effectiveness** while keeping everything **open-source** wherever possible. 🚀

<br/>

## 👥 Team

<table>
  <tr align="center">
    <td width="200">
      <img src="https://github.com/hshashank06.png" width="150" height="150" style="border-radius: 50%" alt="Shashank Hara Sridhar">
      <h3>Shashank Hara Sridhar</h3>
      <a href="https://github.com/hshashank06">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" width="36" height="36" alt="GitHub"/>
      </a>
      <a href="https://www.linkedin.com/in/shashank-hs/">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" width="36" height="36" alt="LinkedIn"/>
      </a>
    </td>
    <td width="200">
      <img src="https://github.com/saikun0293.png" width="150" height="150" style="border-radius: 50%" alt="Sai Teja Reddy Tileti">
      <h3>Sai Teja Reddy Tileti</h3>
      <a href="https://github.com/saikun0293">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/github/github-original.svg" width="36" height="36" alt="GitHub"/>
      </a>
      <a href="https://www.linkedin.com/in/saitejareddytileti/">
        <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/linkedin/linkedin-original.svg" width="36" height="36" alt="LinkedIn"/>
      </a>
    </td>
  </tr>
</table>
